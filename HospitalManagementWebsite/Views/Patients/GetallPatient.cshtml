    @{
        Layout = "~/Views/Shared/_Layout.cshtml";  // Set the correct path to the layout
         ViewBag.Title = "All Patients Details with Pagination and Search";
    }


<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f4f4f4;
        color: #333;
    }





    .timer {
        font-size: 16px;
        font-weight: bold;
    }

    footer {
        background-color: #3498db;
        color: #fff;
        text-align: center;
        padding: 10px 20px;
        margin-top: 20px;
    }

    #searchBox {
        padding: 8px;
        font-size: 16px;
        border-radius: 4px;
        border: 1px solid #ddd;
        margin-bottom: 20px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        background-color: #fff;

    }

    th, td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: left;
    }

    th {
        background-color: #3498db;
        color: #fff;
        font-weight: bold;
    }

    .pagination {
        text-align: center;
        margin: 20px 0;
    }

    .page {
        display: inline-block;
        padding: 8px 12px;
        margin: 0 5px;
        background-color: #3498db;
        color: #fff;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

        .page:hover {
            background-color: #297fb8;
        }

    .current-page {
        background-color: #297fb8;
    }

    .action-links {
        text-decoration: none;
        padding: 5px 10px;
        border: 1px solid #3498db;
        color: #3498db;
        border-radius: 4px;
        transition: background-color 0.5s, color 0.5s;
        margin-bottom:10px;
    }

        .action-links:hover {
            background-color: #3498db;
            color: #fff;
        }
<<<<<<< HEAD
</style>


<h1>All Patients Details</h1>

<input type="text" id="searchBox" placeholder="Search Patients...">

<table id="AllPatients">
    <thead>
=======

    /* Create Link Styles */
    #create-link {
        display: inline-block;
        background-color: #27ae60;
        color: #fff;
        padding: 10px 15px;
        text-decoration: none;
        border-radius: 4px;
        transition: background-color 0.3s;
    }

        #create-link:hover {
           /* background-color: #219d53;*/
           background-color:orangered;
           font-size:large;
           font-weight:bold;
        }
</style>
<style>
    #tdlist {
        white-space: pre-line;
        overflow: hidden;
        transition: background-color 0.9s, font-size 0.3s, color 0.6s;
    }

        #tdlist:hover {
            background-color: cadetblue;
            font-size: large;
            color: red;
        }

    #form1 {
        float: right;
    }


    #HLINE
    {
       font-style:normal;
       font-size:35px;
       font-weight:bolder;
       color:dodgerblue;
       text-align:center;
       text-transform:uppercase;
       position:page;
     
    }
</style>


<h2 id="HLINE">GET ALL PATIENT DETAILS</h2>
<!-- Your existing HTML and styles -->
<!-- Your existing HTML and styles -->
@*<div class="form-outline" data-mdb-input-init>
        <input type="search" id="form1" class="form-control" placeholder="Type To Search" aria-label="Search" />
    </div>*@

<div id="divCreate"class="col-sm-1">
    @Html.ActionLink("Create", "CreatePatient", null, new { @id = "create-link", @class = "action-links" })
</div>

<div class="form-outline col-sm-11" data-mdb-input-init>
    <input type="search" id="form1" class="form-control" placeholder="Type To Search" aria-label="Search" />    <br />

</div>
<table class="table" id="AllPatients">
    @*<thead>
            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>

                <th >

                </th>

            </tr>
        </thead>*@
    <thead>

>>>>>>> d6447cefea529bd64fb7e3829dc7255f7b5de52b
        <tr>
            <th>PID</th>
            <th>FNAME</th>
            <th>LNAME</th>
            <th>AGE</th>
            <th>BLOODGROUP</th>
            <th>GENDER</th>
            <th>EMAIL</th>
            <th>PHONE NO</th>
            <th>LOCATION</th>
            <th>ATTACHMENT</th>
            <th>DELETE</th>
            <th>UPDATE</th>
        </tr>
    </thead>
    <tbody id="patientData">
        @foreach (var Items in Model)
<<<<<<< HEAD
=======

>>>>>>> d6447cefea529bd64fb7e3829dc7255f7b5de52b
        {
            <tr>
                <td>@Items.pid</td>
                <td>@Items.fname</td>
                <td>@Items.lname</td>
                <td>@Items.age</td>
                <td>@Items.bg</td>
                <td>@Items.gender</td>
                <td>@Items.email</td>
                <td>@Items.phoneNo</td>
                <td>location</td>
                <td><a href="" target="_blank">View File</a></td>
                <td>@Html.ActionLink("Delete", "DeletePatient", new { id = Items.pid }, new { @class = "action-links" })</td>
                <td>@Html.ActionLink("Update", "UpdatePatient", new { id = Items.pid }, new { @class = "action-links" })</td>
            </tr>
        }
    </tbody>
<<<<<<< HEAD
    <!-- Create Patient Button -->
    <div class="add-patient-button">
        <a href="https://localhost:44386/Patients/CreatePatient" class="btn btn-primary">
            <i class="fas fa-plus-circle"></i> Create Patient
        </a>
    </div>
</table>

<div class="pagination" id="paginationControls"></div>
=======

    <tfoot>
        @*<tr id="trbuttton">
            <td></td>
            <td></td>
            <td>
            </td>

        </tr>*@

        @*<tr id="trbuttton1">
            <td colspan="7">

        </tr>*@
    </tfoot>
</table>

<div id="paginationControls" class="col-sm-11">
    <!-- Pagination controls will be added dynamically using JavaScript/jQuery -->
</div>
<div id="divExit" class="col-sm-1">
    <a id="create-link" class="action-links" href="@Url.Action("Login", "Login")">EXIT</a>

</div>


           

>>>>>>> d6447cefea529bd64fb7e3829dc7255f7b5de52b

<footer>
    &copy; 2024 - Hospital Management System
</footer>

<script>
<<<<<<< HEAD
    // Update Date/Time
    //function updateDateTime() {
    //    const now = new Date();
    //    document.getElementById('currentDateTime').textContent = now.toLocaleString();
    //}
    //setInterval(updateDateTime, 1000);

    //// Session Timer
    //let sessionTime = 30 * 60; // 30 minutes in seconds
    //function updateSessionTimer() {
    //    const minutes = Math.floor(sessionTime / 60);
    //    const seconds = sessionTime % 60;
    //    document.getElementById('sessionTimer').textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
    //    if (sessionTime > 0) sessionTime--;
    //}
    //setInterval(updateSessionTimer, 1000);

    $(document).ready(function () {
        const rows = $("#patientData tr");
        const rowsPerPage = 5; // Number of rows per page
        let totalPages = Math.ceil(rows.length / rowsPerPage);
        let currentPage = 1;
=======
    $(document).ready(function () {
        var itemsPerPage = 10;
        var $rows = $('.pagination-row tr');
>>>>>>> d6447cefea529bd64fb7e3829dc7255f7b5de52b

        function showPage(page) {
            rows.hide();
            const start = (page - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            rows.slice(start, end).show();

            $(".page").removeClass("current-page");
            $(`#page-${page}`).addClass("current-page");
        }

<<<<<<< HEAD
        function createPagination() {
            $("#paginationControls").empty();
            for (let i = 1; i <= totalPages; i++) {
                $("#paginationControls").append(
                    `<span class="page" id="page-${i}" data-page="${i}">${i}</span>`
                );
            }

            $(".page").click(function () {
                currentPage = $(this).data("page");
                showPage(currentPage);
            });
        }
=======
        // Handle pagination control click event
        $('#paginationControls').on('click', '.page', function () {
            var currentPage = $(this).data('page');
            var start = (currentPage - 1) * itemsPerPage;
            var end = start + itemsPerPage;

            // Hide all rows and show only the ones for the current page
            $rows.hide().slice(start, end).show();
        });

        // Handle search bar input change event
        $('#form1').on('input', function () {
            var searchTerm = $(this).val().toLowerCase();

            $rows.hide().filter(function () {
                return $(this).text().toLowerCase().includes(searchTerm);
            }).show();
        });
    });
</script>

@*new code for  previeous issue pg--02*@

@*<script>
        $(document).ready(function () {
            var itemsPerPage = 5;
            var $rows = $('.pagination-row tr');

            // Hide all rows except the first 'itemsPerPage' rows
            $rows.slice(itemsPerPage).hide();

            // Calculate total number of pages
            var totalPages = Math.ceil($rows.length / itemsPerPage);

            // Add pagination controls
            for (var i = 1; i <= totalPages; i++) {
                $('#paginationControls').append('<span class="page" data-page="' + i + '">' + i + '</span>');
            }

            // Handle pagination control click event
            $('#paginationControls').on('click', '.page', function () {
                var currentPage = $(this).data('page');
                var start = (currentPage - 1) * itemsPerPage;
                var end = start + itemsPerPage;

                // Hide all rows and show only the ones for the current page
                $rows.hide().slice(start, end).show();
            });

            // Handle search bar input change event
            $('#form1').on('input', function () {
                var searchTerm = $(this).val().toLowerCase();

                // Filter rows based on the search term
                var $filteredRows = $rows.filter(function () {
                    return $(this).text().toLowerCase().includes(searchTerm);
                });

                // Calculate total number of pages for filtered rows
                var totalFilteredPages = Math.ceil($filteredRows.length / itemsPerPage);

                // Clear existing pagination controls
                $('#paginationControls').empty();

                // Add new pagination controls for filtered rows
                for (var i = 1; i <= totalFilteredPages; i++) {
                    $('#paginationControls').append('<span class="page" data-page="' + i + '">' + i + '</span>');
                }

                // Show the first page of filtered rows
                $filteredRows.hide().slice(0, itemsPerPage).show();
            });
        });
    </script>*@
>>>>>>> d6447cefea529bd64fb7e3829dc7255f7b5de52b


        function filterRows() {
            const searchTerm = $("#searchBox").val().toLowerCase();
            rows.hide().filter(function () {
                const rowText = $(this).text().toLowerCase();
                const patientName = $(this).find("td:nth-child(2)").text().toLowerCase() + " " + $(this).find("td:nth-child(3)").text().toLowerCase();
                const patientId = $(this).find("td:nth-child(1)").text().toLowerCase();
                return patientName.includes(searchTerm) || patientId.includes(searchTerm); // Search by name or ID
            }).show();

            // Update pagination for filtered rows
            totalPages = Math.ceil($("#patientData tr:visible").length / rowsPerPage);
            currentPage = 1;
            createPagination();
            showPage(currentPage);
        }

        $("#searchBox").on("input", filterRows);

        // Initialize pagination and display first page
        createPagination();
        showPage(currentPage);
    });
</script>
